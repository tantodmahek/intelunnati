<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Learning - EduTech</title>
    <link rel="stylesheet" href="style-dark.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="learning-page">
    <header class="learning-header">
        <nav class="learning-nav">
            <div class="nav-left">
                <a href="courses.html" class="back-btn"><i class="fas fa-arrow-left"></i> Back to Courses</a>
                <div class="course-title-nav">
                    <h1 id="courseTitle">Mathematics Fundamentals</h1>
                    <div class="course-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                        <span>4.8 (2,341 students)</span>
                    </div>
                </div>
            </div>
            <div class="nav-right">
                <div class="progress-indicator">
                    <div class="progress-circle">
                        <svg width="40" height="40">
                            <circle cx="20" cy="20" r="18" stroke="#333" stroke-width="2" fill="none"/>
                            <circle id="progressCircle" cx="20" cy="20" r="18" stroke="#6c5ce7" stroke-width="2" fill="none" stroke-dasharray="113" stroke-dashoffset="73"/>
                        </svg>
                        <span id="progressPercent">35%</span>
                    </div>
                </div>
                <button class="settings-btn"><i class="fas fa-cog"></i></button>
            </div>
        </nav>
    </header>

    <main class="learning-main">
        <div class="learning-layout">
            <!-- Video Player Section -->
            <div class="video-section">
                <div class="video-container">
                    <div class="video-player">
                        <iframe id="courseVideo" width="100%" height="100%" 
                                src="https://www.youtube.com/embed/NybHckSEQBI" 
                                frameborder="0" allowfullscreen></iframe>
                        <div class="video-overlay" id="videoOverlay">
                            <div class="video-unavailable">
                                <i class="fas fa-exclamation-triangle"></i>
                                <h3>Video Temporarily Unavailable</h3>
                                <p>Please try refreshing the page or contact support if the issue persists.</p>
                                <button class="retry-btn" onclick="retryVideo()">Retry</button>
                            </div>
                        </div>
                    </div>
                    <div class="video-controls-bar">
                        <div class="controls-left">
                            <button class="control-btn" id="prevVideo"><i class="fas fa-step-backward"></i></button>
                            <button class="control-btn play-pause" id="playPause"><i class="fas fa-play"></i></button>
                            <button class="control-btn" id="nextVideo"><i class="fas fa-step-forward"></i></button>
                            <div class="volume-control">
                                <button class="control-btn"><i class="fas fa-volume-up"></i></button>
                                <input type="range" class="volume-slider" min="0" max="100" value="80">
                            </div>
                        </div>
                        <div class="controls-center">
                            <div class="time-display">
                                <span id="currentTime">0:00</span> / <span id="totalTime">12:34</span>
                            </div>
                        </div>
                        <div class="controls-right">
                            <button class="control-btn speed-btn">1x</button>
                            <button class="control-btn"><i class="fas fa-closed-captioning"></i></button>
                            <button class="control-btn"><i class="fas fa-cog"></i></button>
                            <button class="control-btn fullscreen-btn"><i class="fas fa-expand"></i></button>
                        </div>
                    </div>
                </div>
                
                <!-- Lesson Info -->
                <div class="lesson-info">
                    <div class="lesson-header">
                        <h2 id="currentLessonTitle">Introduction to Algebra</h2>
                        <div class="lesson-actions">
                            <button class="action-btn bookmark-btn"><i class="fas fa-bookmark"></i></button>
                            <button class="action-btn share-btn"><i class="fas fa-share"></i></button>
                            <button class="action-btn" id="toggleNotes"><i class="fas fa-sticky-note"></i> Notes</button>
                        </div>
                    </div>
                    <div class="lesson-description">
                        <p id="lessonDescription">Learn the fundamental concepts of algebra including variables, expressions, and basic operations. This lesson covers the building blocks you'll need for advanced mathematical concepts.</p>
                    </div>
                    <div class="lesson-progress-bar">
                        <div class="progress-track">
                            <div class="progress-fill" id="lessonProgress" style="width: 65%"></div>
                        </div>
                        <span class="progress-label">Lesson Progress: 65%</span>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="course-sidebar">
                <!-- Course Content -->
                <div class="sidebar-section course-content">
                    <div class="section-header">
                        <h3><i class="fas fa-list-ul"></i> Course Content</h3>
                        <span class="content-stats">12 lessons • 2h 45m</span>
                    </div>
                    <div class="lessons-container" id="lessonList">
                        <!-- Lessons will be loaded here -->
                    </div>
                </div>

                <!-- Notes Section -->
                <div class="sidebar-section notes-section" id="notesSection">
                    <div class="section-header">
                        <h3><i class="fas fa-sticky-note"></i> My Notes</h3>
                        <div class="notes-actions">
                            <button class="notes-btn" id="addNote"><i class="fas fa-plus"></i></button>
                            <button class="notes-btn" id="exportNotes"><i class="fas fa-download"></i></button>
                        </div>
                    </div>
                    <div class="notes-container">
                        <div class="note-editor">
                            <div class="editor-toolbar">
                                <button class="toolbar-btn"><i class="fas fa-bold"></i></button>
                                <button class="toolbar-btn"><i class="fas fa-italic"></i></button>
                                <button class="toolbar-btn"><i class="fas fa-underline"></i></button>
                                <button class="toolbar-btn"><i class="fas fa-list-ul"></i></button>
                                <button class="toolbar-btn"><i class="fas fa-link"></i></button>
                            </div>
                            <textarea id="courseNotes" placeholder="Take notes while learning...\n\n• Key concepts\n• Important formulas\n• Questions to review"></textarea>
                        </div>
                        <div class="notes-footer">
                            <div class="auto-save-indicator">
                                <i class="fas fa-check-circle"></i>
                                <span>Auto-saved</span>
                            </div>
                            <button class="save-btn" id="saveNotes">Save Notes</button>
                        </div>
                    </div>
                </div>

                <!-- Resources -->
                <div class="sidebar-section resources-section">
                    <div class="section-header">
                        <h3><i class="fas fa-file-alt"></i> Resources</h3>
                    </div>
                    <div class="resources-list">
                        <a href="#" class="resource-item">
                            <i class="fas fa-file-pdf"></i>
                            <span>Lesson Slides (PDF)</span>
                            <i class="fas fa-download"></i>
                        </a>
                        <a href="#" class="resource-item">
                            <i class="fas fa-calculator"></i>
                            <span>Practice Problems</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                        <a href="#" class="resource-item">
                            <i class="fas fa-book"></i>
                            <span>Additional Reading</span>
                            <i class="fas fa-external-link-alt"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

        <!-- Login Modal -->
        <div id="loginModal" class="modal">
            <div class="modal-content glass">
                <span class="close-button" id="closeLoginModal">&times;</span>
                <div class="modal-header">
                    <div class="modal-icon"><i class="fas fa-sign-in-alt"></i></div>
                    <h2>Welcome Back</h2>
                    <p class="modal-subtitle">Sign in to your account</p>
                </div>
                
            </div>
        </div>

        <!-- Signup Modal -->
        <div id="signupModal" class="modal">
            <div class="modal-content glass">
                <span class="close-button" id="closeSignupModal">&times;</span>
                <div class="modal-header">
                    <div class="modal-icon"><i class="fas fa-user-plus"></i></div>
                    <h2>Join Us Today</h2>
                    <p class="modal-subtitle">Create your learning account</p>
                </div>
                
            </div>
        </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="quiz-modal">
        <div class="quiz-content">
            <div class="quiz-header">
                <h3><i class="fas fa-question-circle"></i> Lesson Quiz</h3>
                <button class="close-quiz" id="closeQuiz"><i class="fas fa-times"></i></button>
            </div>
            <div class="quiz-body" id="quizContent">
                <!-- Quiz questions will be loaded here -->
            </div>
        </div>
    </div>

    
    <script>
        // Perfect Modal System
        document.addEventListener('DOMContentLoaded', function() {
            const loginBtn = document.getElementById('loginBtnNav');
            const signupBtn = document.getElementById('signupBtnNav');
            const loginModal = document.getElementById('loginModal');
            const signupModal = document.getElementById('signupModal');
            
            function showModal(modal) {
                if (modal) {
                    // Hide all modals first
                    document.querySelectorAll('.modal').forEach(m => {
                        m.style.display = 'none';
                        m.classList.remove('show');
                    });
                    
                    // Show the requested modal
                    modal.style.display = 'flex';
                    modal.classList.add('show');
                    document.body.style.overflow = 'hidden';
                }
            }
            
            function hideModal(modal) {
                if (modal) {
                    modal.style.display = 'none';
                    modal.classList.remove('show');
                    document.body.style.overflow = 'auto';
                }
            }
            
            function hideAllModals() {
                document.querySelectorAll('.modal').forEach(modal => {
                    hideModal(modal);
                });
            }
            
            // Login button - shows LOGIN modal
            if (loginBtn) {
                loginBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(loginModal);
                });
            }
            
            // Signup button - shows SIGNUP modal
            if (signupBtn) {
                signupBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(signupModal);
                });
            }
            
            // Close buttons
            document.querySelectorAll('.close-button').forEach(btn => {
                btn.addEventListener('click', hideAllModals);
            });
            
            // Click outside to close
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) hideAllModals();
                });
            });
            
            // Modal switching links
            const switchToSignup = document.getElementById('switchToSignup');
            const switchToLogin = document.getElementById('switchToLogin');
            
            if (switchToSignup) {
                switchToSignup.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(signupModal);
                });
            }
            
            if (switchToLogin) {
                switchToLogin.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(loginModal);
                });
            }
            
            // ESC key to close
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') hideAllModals();
            });
        });
    </script>
</body>
</html>