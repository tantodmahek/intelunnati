<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Learning Assistant - Digital Learning</title>
    <link rel="stylesheet" href="style-dark.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, #1a1a2e 50%, var(--bg-secondary) 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 30% 30%, rgba(108, 92, 231, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(139, 92, 246, 0.03) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .ai-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            height: calc(100vh - 200px);
        }
        
        .sidebar {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            height: fit-content;
        }
        
        .chat-container {
            background: var(--card-bg);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .chat-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--bg-secondary);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .ai-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .message {
            display: flex;
            gap: 1rem;
            max-width: 80%;
        }
        
        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .message.ai .message-avatar {
            background: linear-gradient(135deg, var(--primary-color), #8b5cf6);
            color: white;
        }
        
        .message.user .message-avatar {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }
        
        .message-content {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-radius: 18px;
            line-height: 1.5;
        }
        
        .message.ai .message-content {
            background: rgba(108, 92, 231, 0.1);
            border: 1px solid rgba(108, 92, 231, 0.2);
        }
        
        .message.user .message-content {
            background: var(--primary-color);
            color: white;
        }
        
        .chat-input-container {
            padding: 1.5rem;
            border-top: 1px solid var(--bg-secondary);
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }
        
        .chat-input {
            flex: 1;
            background: var(--bg-secondary);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            color: var(--text-primary);
            resize: none;
            min-height: 50px;
            max-height: 120px;
            font-family: inherit;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        .send-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .send-btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }
        
        .send-btn:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }
        
        .subject-buttons {
            display: grid;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .subject-btn {
            background: var(--bg-secondary);
            border: 2px solid transparent;
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .subject-btn:hover, .subject-btn.active {
            border-color: var(--primary-color);
            background: rgba(108, 92, 231, 0.1);
        }
        
        .quick-questions {
            margin-top: 2rem;
        }
        
        .quick-question {
            background: var(--bg-secondary);
            border: none;
            border-radius: 8px;
            padding: 0.75rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-align: left;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .quick-question:hover {
            background: rgba(108, 92, 231, 0.1);
            transform: translateX(5px);
        }
        
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .typing-dots {
            display: flex;
            gap: 2px;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--primary-color);
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        @media (max-width: 768px) {
            .ai-container {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .sidebar {
                order: 2;
            }
            
            .chat-container {
                height: 60vh;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="index.html" style="color: white; text-decoration: none;">
                    <div class="logo-container">
                        <div class="logo-icon">
                            <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="2" y="2" width="38" height="38" rx="8" fill="url(#uniqueGrad1)" stroke="url(#uniqueGrad2)" stroke-width="2"/>
                                <path d="M12 15L21 24L30 15" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                <rect x="18" y="8" width="6" height="6" rx="3" fill="white"/>
                                <circle cx="15" cy="30" r="2" fill="rgba(255,255,255,0.8)"/>
                                <circle cx="21" cy="32" r="1.5" fill="rgba(255,255,255,0.6)"/>
                                <circle cx="27" cy="30" r="2" fill="rgba(255,255,255,0.8)"/>
                                <defs>
                                    <linearGradient id="uniqueGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#667eea"/>
                                        <stop offset="50%" style="stop-color:#764ba2"/>
                                        <stop offset="100%" style="stop-color:#f093fb"/>
                                    </linearGradient>
                                    <linearGradient id="uniqueGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#a8edea"/>
                                        <stop offset="100%" style="stop-color:#fed6e3"/>
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>
                        <span class="logo-text">Digital Learning</span>
                    </div>
                </a>
            </div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li class="dropdown">
                    <a href="features.html">Features</a>
                    <div class="dropdown-content">
                        <a href="video-lessons.html"><i class="fas fa-play-circle"></i> Video Lessons</a>
                        <a href="timetable-planner.html"><i class="fas fa-calendar-alt"></i> Timetable Planner</a>
                        <a href="ai-practice.html"><i class="fas fa-brain"></i> AI Practice</a>
                        <a href="virtual-classroom.html"><i class="fas fa-video"></i> Virtual Classroom</a>
                        <a href="books.html"><i class="fas fa-book"></i> Book Library</a>
                        <a href="quiz.html"><i class="fas fa-question-circle"></i> Quiz</a>
                    </div>
                </li>
                <li><a href="courses.html">Our Courses</a></li>
                <li><a href="how-it-works.html">How It Works</a></li>
                <li><a href="for-educators.html">For Educators</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                
                <li class="auth-buttons"><button id="loginBtnNav" class="nav-button">Login</button></li>

                
                <li class="auth-buttons"><button id="signupBtnNav" class="nav-button">Sign Up</button></li>

                
                <li class="profile-menu">
                    <button id="profileBtn" class="nav-button"><i class="fas fa-user"></i></button>
                    <div class="profile-dropdown">
                        <div class="profile-info">
                            <div class="profile-avatar"><i class="fas fa-user"></i></div>
                            <h4 class="profile-name" id="profileName">User</h4>
                            <p class="profile-email" id="profileEmail">user@example.com</p>
                        </div>
                        <ul class="profile-links">
                            <li><a href="profile.html"><i class="fas fa-user-cog"></i> My Profile</a></li>
                            <li><a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="ai-container">
            <div class="sidebar" style="background: var(--card-bg); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); border: 1px solid rgba(108, 92, 231, 0.1);">
                <h3><i class="fas fa-graduation-cap"></i> Learning Subjects</h3>
                <div class="subject-buttons">
                    <button class="subject-btn active" onclick="selectSubject('general')">
                        <i class="fas fa-brain"></i> General Help
                    </button>
                    <button class="subject-btn" onclick="selectSubject('math')">
                        <i class="fas fa-calculator"></i> Mathematics
                    </button>
                    <button class="subject-btn" onclick="selectSubject('science')">
                        <i class="fas fa-flask"></i> Science
                    </button>
                    <button class="subject-btn" onclick="selectSubject('history')">
                        <i class="fas fa-landmark"></i> History
                    </button>
                    <button class="subject-btn" onclick="selectSubject('english')">
                        <i class="fas fa-book-open"></i> English
                    </button>
                    <button class="subject-btn" onclick="selectSubject('programming')">
                        <i class="fas fa-code"></i> Programming
                    </button>
                </div>
                
                <div class="quick-questions">
                    <h4>Quick Questions</h4>
                    <button class="quick-question" onclick="askQuestion('Explain this concept simply')">
                        Explain this concept simply
                    </button>
                    <button class="quick-question" onclick="askQuestion('Give me practice problems')">
                        Give me practice problems
                    </button>
                    <button class="quick-question" onclick="askQuestion('What are the key points?')">
                        What are the key points?
                    </button>
                    <button class="quick-question" onclick="askQuestion('How can I improve?')">
                        How can I improve?
                    </button>
                </div>
            </div>

            <div class="chat-container" style="background: var(--card-bg); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); border: 1px solid rgba(108, 92, 231, 0.1);">
                <div class="chat-header">
                    <div class="ai-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3>AI Learning Assistant</h3>
                        <p style="color: var(--text-secondary); margin: 0;">Ready to help you learn!</p>
                    </div>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="message ai">
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            Hello! I'm your AI Learning Assistant. I'm here to help you with your studies across various subjects. You can ask me questions about math, science, history, English, programming, or any other topic you're learning. How can I help you today?
                        </div>
                    </div>
                </div>

                <div class="typing-indicator" id="typingIndicator">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        AI is thinking
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <div class="chat-input-wrapper">
                        <textarea 
                            id="chatInput" 
                            class="chat-input" 
                            placeholder="Ask me anything about your studies..."
                            rows="1"
                            onkeypress="handleKeyPress(event)"
                        ></textarea>
                        <button class="send-btn" onclick="sendMessage()" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content glass">
            <span class="close-button" id="closeLoginModal">&times;</span>
            <div class="modal-header">
                <div class="modal-icon"><i class="fas fa-sign-in-alt"></i></div>
                <h2>Welcome Back</h2>
                <p class="modal-subtitle">Sign in to your account</p>
            </div>
            <form id="loginForm">
                <div class="input-group">
                    <div class="input-icon"><i class="fas fa-envelope"></i></div>
                    <input type="email" id="loginEmail" name="email" placeholder="Enter your email" required>
                </div>
                <div class="input-group">
                    <div class="input-icon"><i class="fas fa-lock"></i></div>
                    <input type="password" id="loginPassword" name="password" placeholder="Enter your password" required>
                </div>
                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="rememberMe">
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                    <a href="#" class="forgot-password">Forgot Password?</a>
                </div>
                <button type="submit" class="cta-button modal-btn">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </button>
                <div class="modal-divider"><span>or</span></div>
                <button type="button" class="social-btn google-btn">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
                <p class="modal-switch">Don't have an account? <a href="#" id="switchToSignup">Create Account</a></p>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content glass">
            <span class="close-button" id="closeSignupModal">&times;</span>
            <div class="modal-header">
                <div class="modal-icon"><i class="fas fa-user-plus"></i></div>
                <h2>Join Us Today</h2>
                <p class="modal-subtitle">Create your learning account</p>
            </div>
            <form id="signupForm">
                <div class="input-group">
                    <div class="input-icon"><i class="fas fa-user"></i></div>
                    <input type="text" id="signupName" name="name" placeholder="Enter your full name" required>
                </div>
                <div class="input-group">
                    <div class="input-icon"><i class="fas fa-envelope"></i></div>
                    <input type="email" id="signupEmail" name="email" placeholder="Enter your email" required>
                </div>
                <div class="input-group">
                    <div class="input-icon"><i class="fas fa-lock"></i></div>
                    <input type="password" id="signupPassword" name="password" placeholder="Create a password" required>
                </div>
                <div class="input-group">
                    <div class="input-icon"><i class="fas fa-lock"></i></div>
                    <input type="password" id="signupConfirmPassword" name="confirmPassword" placeholder="Confirm your password" required>
                </div>
                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="agreeTerms" required>
                        <span class="checkmark"></span>
                        I agree to the <a href="#">Terms & Conditions</a>
                    </label>
                </div>
                <button type="submit" class="cta-button modal-btn">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                <p class="modal-switch">Already have an account? <a href="#" id="switchToLogin">Sign In</a></p>
            </form>
        </div>
    </div>

    <script src="particles.js"></script>
    <script>
        let currentSubject = 'general';
        
        const responses = {
            general: {
                'hello': 'Hello! I\'m here to help you learn. What subject would you like to explore today?',
                'help': 'I can assist you with various subjects including Math, Science, History, English, and Programming. Just ask me any question!',
                'how are you': 'I\'m doing great and ready to help you learn! What can I teach you today?',
                'default': 'That\'s an interesting question! I\'d be happy to help you learn more about that topic. Could you provide more specific details?'
            },
            math: {
                'algebra': 'Algebra is about working with variables and equations. For example, in the equation x + 5 = 10, we solve for x by subtracting 5 from both sides: x = 5.',
                'geometry': 'Geometry deals with shapes, sizes, and properties of space. Key concepts include area, perimeter, volume, and angles.',
                'calculus': 'Calculus studies rates of change (derivatives) and accumulation (integrals). It\'s fundamental for understanding motion and optimization.',
                'default': 'Math is all about problem-solving! Whether it\'s algebra, geometry, or calculus, break problems into smaller steps and practice regularly.'
            },
            science: {
                'physics': 'Physics studies matter, energy, and their interactions. Key concepts include force, motion, energy, and waves.',
                'chemistry': 'Chemistry focuses on atoms, molecules, and chemical reactions. Remember the periodic table and how elements combine!',
                'biology': 'Biology is the study of living organisms. Key areas include cells, genetics, evolution, and ecosystems.',
                'default': 'Science is about understanding how the world works! Observation, hypothesis, and experimentation are key to scientific thinking.'
            },
            history: {
                'ancient': 'Ancient civilizations like Egypt, Greece, and Rome laid foundations for modern society through innovations in government, architecture, and philosophy.',
                'medieval': 'The Medieval period (5th-15th centuries) saw the rise of feudalism, the spread of Christianity, and significant cultural developments.',
                'modern': 'Modern history includes major events like the Industrial Revolution, World Wars, and the development of democratic societies.',
                'default': 'History helps us understand how past events shape our present. Look for patterns, causes, and effects in historical events.'
            },
            english: {
                'grammar': 'Grammar is the structure of language. Key elements include nouns, verbs, adjectives, and sentence structure. Practice makes perfect!',
                'writing': 'Good writing has clear structure: introduction, body paragraphs with evidence, and conclusion. Always revise and edit your work.',
                'literature': 'Literature analysis involves understanding themes, characters, setting, and the author\'s message. Look for symbolism and literary devices.',
                'default': 'English skills improve through reading, writing, and practice. Focus on vocabulary, grammar, and clear communication.'
            },
            programming: {
                'javascript': 'JavaScript is a versatile programming language for web development. Key concepts include variables, functions, loops, and DOM manipulation.',
                'python': 'Python is great for beginners! It has simple syntax and is used for web development, data science, and automation.',
                'html': 'HTML structures web content using tags like <h1>, <p>, and <div>. It\'s the foundation of web development.',
                'default': 'Programming is about solving problems step by step. Start with basic concepts like variables, loops, and functions, then build up!'
            }
        };

        function selectSubject(subject) {
            currentSubject = subject;
            document.querySelectorAll('.subject-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const subjectNames = {
                general: 'General Help',
                math: 'Mathematics',
                science: 'Science',
                history: 'History',
                english: 'English',
                programming: 'Programming'
            };
            
            addMessage('ai', `Great! I'm now focused on ${subjectNames[subject]}. What would you like to learn about?`);
        }

        function askQuestion(question) {
            document.getElementById('chatInput').value = question;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addMessage('user', message);
            input.value = '';
            
            // Show typing indicator
            document.getElementById('typingIndicator').style.display = 'flex';
            
            // Simulate AI response delay
            setTimeout(() => {
                document.getElementById('typingIndicator').style.display = 'none';
                const response = generateResponse(message);
                addMessage('ai', response);
            }, 1000 + Math.random() * 2000);
        }

        function addMessage(sender, content) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = sender === 'ai' ? '<i class="fas fa-robot"></i>' : '<i class="fas fa-user"></i>';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">${content}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function generateResponse(message) {
            const lowerMessage = message.toLowerCase();
            const subjectResponses = responses[currentSubject];
            
            // Check for specific keywords
            for (const keyword in subjectResponses) {
                if (keyword !== 'default' && lowerMessage.includes(keyword)) {
                    return subjectResponses[keyword];
                }
            }
            
            // Subject-specific responses
            if (currentSubject === 'math' && (lowerMessage.includes('solve') || lowerMessage.includes('calculate'))) {
                return 'I\'d be happy to help you solve that! Please share the specific problem, and I\'ll walk you through the solution step by step.';
            }
            
            if (currentSubject === 'science' && lowerMessage.includes('experiment')) {
                return 'Experiments are crucial in science! Make sure to form a hypothesis, control variables, and record observations carefully.';
            }
            
            if (currentSubject === 'programming' && lowerMessage.includes('error')) {
                return 'Debugging is part of programming! Check your syntax, variable names, and logic flow. Console.log() is your friend for tracking values.';
            }
            
            if (lowerMessage.includes('explain') || lowerMessage.includes('what is')) {
                return 'I\'d be happy to explain that concept! Could you be more specific about what you\'d like me to explain?';
            }
            
            if (lowerMessage.includes('practice') || lowerMessage.includes('exercise')) {
                return 'Practice is key to learning! I can suggest some exercises. What specific topic would you like to practice?';
            }
            
            if (lowerMessage.includes('help') || lowerMessage.includes('stuck')) {
                return 'I\'m here to help! Don\'t worry about being stuck - that\'s part of learning. What specific part is challenging you?';
            }
            
            // Default response
            return subjectResponses.default || 'That\'s an interesting question! I\'d love to help you explore that topic further. Could you provide more details?';
        }

        // Auto-resize textarea
        document.getElementById('chatInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });
        
        // Updated Authentication System
        document.addEventListener('DOMContentLoaded', function() {
            const loginBtn = document.getElementById('loginBtnNav');
            const signupBtn = document.getElementById('signupBtnNav');
            const loginModal = document.getElementById('loginModal');
            const signupModal = document.getElementById('signupModal');
            const authButtons = document.querySelectorAll('.auth-buttons');
            const profileMenu = document.querySelector('.profile-menu');
            
            checkAuthStatus();
            
            function checkAuthStatus() {
                const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
                const userName = localStorage.getItem('userName') || 'User';
                const userEmail = localStorage.getItem('userEmail') || 'user@example.com';
                
                if (isLoggedIn) {
                    authButtons.forEach(btn => btn.style.display = 'none');
                    if (profileMenu) profileMenu.style.display = 'block';
                    const profileName = document.getElementById('profileName');
                    const profileEmail = document.getElementById('profileEmail');
                    if (profileName) profileName.textContent = userName;
                    if (profileEmail) profileEmail.textContent = userEmail;
                } else {
                    authButtons.forEach(btn => btn.style.display = 'block');
                    if (profileMenu) profileMenu.style.display = 'none';
                }
            }
            
            function showModal(modal) {
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            }
            
            function hideAllModals() {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.style.display = 'none';
                });
                document.body.style.overflow = 'auto';
            }
            
            function handleLogin(email, name) {
                localStorage.setItem('userLoggedIn', 'true');
                localStorage.setItem('userEmail', email);
                localStorage.setItem('userName', name);
                checkAuthStatus();
                hideAllModals();
            }
            
            if (loginBtn) {
                loginBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(loginModal);
                });
            }
            
            if (signupBtn) {
                signupBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showModal(signupModal);
                });
            }
            
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const email = document.getElementById('loginEmail').value;
                    if (email) {
                        const name = email.split('@')[0].replace(/[^a-zA-Z]/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                        handleLogin(email, name);
                        alert('Login successful!');
                    }
                });
            }
            
            const signupForm = document.getElementById('signupForm');
            if (signupForm) {
                signupForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const name = document.getElementById('signupName').value;
                    const email = document.getElementById('signupEmail').value;
                    if (name && email) {
                        handleLogin(email, name);
                        alert('Account created successfully!');
                    }
                });
            }
            
            document.querySelectorAll('.close-button').forEach(btn => {
                btn.addEventListener('click', hideAllModals);
            });
            
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) hideAllModals();
                });
            });
            
            // Logout functionality
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    localStorage.clear();
                    checkAuthStatus();
                    alert('Logged out successfully!');
                });
            }
        });
    </script>
    <script src="profile-hover-fix.js"></script>
</body>
</html>